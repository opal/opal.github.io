<!doctype html>
<html style="background-color: #f5f5f5; min-height: 100%;">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

  <title>Libraries</title>

  <link href="/stylesheets/application.css" rel="stylesheet" type="text/css" />
  <link href="http://code.ionicframework.com/ionicons/1.4.1/css/ionicons.min.css" rel="stylesheet" type="text/css" />
  <script src="/javascripts/application.js" type="text/javascript"></script>
</head>
<body class="docs docs_libraries docs_libraries_index">
  <nav class='navbar navbar-default opal-nav' role='navigation'>
  <div class='container'>
    <div class='navbar-header'>
      <a class='navbar-brand' href='/'>
        <img height='22' src='https://secure.gravatar.com/avatar/88298620949a6534d403da2e356c9339?s=420&amp;d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-org-420.png' style='margin-top:-10%;' width='22'>
        Opal
      </a>
      <button class='navbar-toggle' data-target='#opal-navbar' data-toggle='collapse' type='button'>
        <span class='icon-bar'></span>
        <span class='icon-bar'></span>
        <span class='icon-bar'></span>
      </button>
    </div>
    <div class='navbar-collapse collapse' id='opal-navbar'>
      <ul class='nav navbar-nav'>
        <li>
          <a href='/try'>
            <i class='ion-ios7-compose'></i>
            Try
          </a>
        </li>
        <li>
          <a href='/blog'>
            <i class='ion-ios7-chatboxes'></i>
            Blog
          </a>
        </li>
        <li>
          <a href='/docs'>
            <i class='ion-ios7-copy'></i>
            Documentation
          </a>
        </li>
        <li>
          <a href='/libraries'>
            <i class='ion-android-developer'></i>
            Libraries
          </a>
        </li>
        <li>
          <a href='https://github.com/opal/opal#readme'>
            <i class='ion-social-github'></i>
            GitHub
          </a>
        </li>
      </ul>
    </div>
  </div>
</nav>

  <script>$('a[href="'+location.pathname.replace(/\/$/,'')+'"]').parent().addClass('active')</script>

  <div class="container">
      <div class="container">
    <div class="row">
      <div class="col-sm-12">
        <h1>Libraries</h1>
      </div>
    </div>
    <div class="row">
      <div class="col-md-4 col-md-push-8">
        <ul class="nav opal-sidebar">
<ul class="subchapter">
<li class="toc-list-subchapter"><a href="#global-environment">Global Environment</a>
<li class="toc-list-subchapter"><a href="#sprockets-instances">Sprockets instances</a></li>
</ul>
<li class="toc-list-chapter"><a href="#with-opal::builder">with Opal::Builder</a></li>
<li class="toc-list-chapter"><a href="#with-opal-sprockets">With opal-sprockets</a></li></ul>
      </div>

      <div class="col-md-8 col-md-pull-4">
        <h1 id="using-external-libraries-in-your-opal-app">Using external libraries in your Opal app</h1>

<p>As described in the getting started docs, Opal uses a load path which works
with sprockets to create a set of locations which Opal can require files
from. If you want to add a directory to this load path, you can add it to
either the global environment, or a sprockets instance.</p>

<h3 id="global-environment">Global Environment</h3>

<p>In the <code>Opal</code> module, a property <code>paths</code> is used to hold the load paths which
<code>Opal</code> uses to require files from. You can add a directory to this:</p>
<pre class="highlight ruby"><code><span class="no">Opal</span><span class="p">.</span><span class="nf">append_path</span> <span class="s1">'../my_lib'</span>
</code></pre>

<p>Now, any ruby files in this directory can be discovered.</p>

<h3 id="sprockets-instances">Sprockets instances</h3>

<p><code>Opal::Environment</code> is a subclass of the sprockets environment class which
can have instance specific paths added to it. This class will inherit all
global paths, but you can also add your instance paths as:</p>
<pre class="highlight ruby"><code><span class="n">env</span> <span class="o">=</span> <span class="no">Opal</span><span class="o">::</span><span class="no">Environment</span><span class="p">.</span><span class="nf">new</span>
<span class="n">env</span><span class="p">.</span><span class="nf">append_path</span> <span class="s1">'../my_lib'</span>
</code></pre>

<h2 id="with-opal::builder">with Opal::Builder</h2>

<p><em>WIP</em></p>

<h2 id="with-opal-sprockets">With opal-sprockets</h2>

<p><em>WIP</em></p>

      </div>
    </div>
  </div>

  </div>

  <!-- GOOGLE ANALYTICS -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-35688734-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>

<footer>
  <a href="/license"><i class="ion-unlocked"></i> License</a> Â·
  <a href="https://github.com/opal/opal/graphs/contributors"><i class="ion-fork-repo"></i> Contributors</a>
</footer>


  <script>
    $('a[href="'+location.pathname.replace(/\/$/,'')+'"]').parent('li').addClass('active')
  </script>
</body>
</html>
