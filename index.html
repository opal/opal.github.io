<!doctype html>
<html style="background-color: #f5f5f5; min-height: 100%;">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

  <title>Opal: Ruby â™¥ï¸Ž JavaScript</title>

  <link href="/assets/application-915b7e3cafe6e192dee011fa09837b2af85b7e1de3dbb52fd1413d46dd2dca0e.css" rel="stylesheet" />
  <link href="//code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css" rel="stylesheet" />

  <script src="/assets/application-74994a7410818947c294a5f44b8f7916d5e1c773e93a5a2c83db9c06d516fd80.js" onload="Opal.loaded(typeof(OpalLoaded) === &quot;undefined&quot; ? [] : OpalLoaded);
Opal.require(&quot;application&quot;);;console.log('loaded application')"></script>

  <!-- Algolia -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />
</head>
<body class="index">
  <nav class='navbar navbar-default opal-nav' role='navigation'>
<div class='container'>
<div class='navbar-header'>
<a class='navbar-brand' href='/'>
<img height='22' src='https://secure.gravatar.com/avatar/88298620949a6534d403da2e356c9339?s=420&amp;d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-org-420.png' style='margin-top:-10%;' width='22'>
Opal
</a>
<button class='navbar-toggle' data-target='#opal-navbar' data-toggle='collapse' type='button'>
<span class='icon-bar'></span>
<span class='icon-bar'></span>
<span class='icon-bar'></span>
</button>
</div>
<div class='navbar-collapse collapse' id='opal-navbar'>
<ul class='nav navbar-nav'>
<li>
<a href='/try'>
<i class='ion-ios-compose'></i>
Try
</a>
</li>
<li>
<a href='/blog'>
<i class='ion-ios-chatboxes'></i>
Blog
</a>
</li>
<li>
<a href='/docs'>
<i class='ion-ios-copy'></i>
Documentation
</a>
</li>
<li>
<a href='/libraries'>
<i class='ion-map'></i>
Libraries
</a>
</li>
<li>
<a href='https://github.com/opal/opal#readme'>
<i class='ion-social-github'></i>
GitHub
</a>
</li>
<li>
<a href='https://rubygems.org/gems/opal/versions/1.8.1' style='opacity: 0.5;'>
v1.8.1
</a>
</li>
</ul>
<ul class='nav navbar-right'>
<li class='search-bar'>
<form id='search-form'>
<input placeholder='Search docs &amp; guides' type='search'>
<button title='Clear the search query.' type='reset'>
&times;
</button>
</form>
</li>
</ul>
</div>
</div>
</nav>


  <div class="container">
    <div class="jumbotron opal-front-jumbo">
  <div class="page-header">
    <img src='https://secure.gravatar.com/avatar/88298620949a6534d403da2e356c9339?s=420&d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-org-420.png' alt='' width='128' height='128' />
    <h1>Opal</h1>
    <h3 class="tagline"><span class="first">Ruby</span> <span title="loves">ðŸ’›</span> <span class="last">JavaScript</span></h3>
    <p class="cta-group">
      <a href="#getting-started" class="cta btn btn-primary btn-lg" role="button"><i class="ion-ios-book"></i> Getting Started</a>
      <a href="https://slack.opalrb.com" class="cta " role="button"><i class="ion-chatbubbles"></i> Join the conversation</a>
    </p>

    <p>
      Opal is a Ruby to JavaScript source-to-source compiler. <br>
      It comes packed with the Ruby corelib you know and love. <br>
      It is both fast as a runtime and small in its footprint.
    </p>

    <p>
      <!-- <a target="_blank" href="http://cdn.opalrb.com/opal/current/opal.min.js" class="btn btn-secondary btn-lg" role="button"><i class="ion-ios-download-outline"></i> opal.min.js</a>
      <a target="_blank" href="http://cdn.opalrb.com/opal/current/opal-parser.min.js" class="btn btn-secondary btn-lg" role="button"><i class="ion-ios-download-outline"></i> opal-parser.min.js</a>
      <a target="_blank" href="http://cdn.opalrb.com/" class="btn btn-lg" role="button"><i class="ion-ios-world-outline"></i> Use the CDN</a> -->
      <!-- <a href="http://cdn.opalrb.com/" class="btn btn-lg" role="button"><i class="ion-speedometer"></i> Use the CDN</a> -->
    <!-- </p>
    <p> -->
      <a href="#getting-started-rack" class="btn btn-secondary btn-lg" role="button"><i class="ion-ios-book-outline"></i> Rack tutorial</a>
      <a href="#getting-started-rails" class="btn btn-secondary btn-lg" role="button"><i class="ion-ios-book-outline"></i> Rails tutorial</a>
      <a href="#getting-started-command-line-interface-cli" class="btn btn-secondary btn-lg" role="button"><i class="ion-ios-book-outline"></i> CLI tutorial</a>
      <a href="/libraries" class="btn btn-secondary btn-lg" role="button"><i class="ion-ios-glasses"></i> Awesome Opal</a>
      <!-- <a href="/docs" class="btn btn-secondary btn-lg" role="button"><i class="ion-ios-copy-outline"></i> Opal Documentation</a> -->
    </p>

  </div>
</div>

<h2 id="praise">Praise</h2>

<div class="praise">
  <div class="praise-item">
  <blockquote>Opal is truly amazing and it has taken me in a whole new direction.</blockquote>
  <em>â€” @mistergibson <a href="https://gitter.im/opal/opal?at=5a652b8de014122650743f80">from Gitter, on Jan 22 2018</a></em>
  </div class="praise-item">
  <div class="praise-item">
  <blockquote>[about Opal 1.7] Fantastic! No failing specs for [isomorfeus](https://github.com/isomorfeus/isomorfeus-project#readme), asset size reduced, performance a tiny bit improved too :+1:</blockquote>
  <em>â€” @janbiedermann, on Dec 25th 2022</a></em>
  </div class="praise-item">
  <div class="praise-item">
  <blockquote>These guys are great. We have a large production app (www.catprint.com) that thanks to opal is 100% RUBY. The UI part is about 17K of opal code, using the hyperstack (www.hyperstack.org) framework.<br>
  In practice Opal == MRI Ruby, very reliable and solid.</blockquote>
  <em>â€” @catmando <a href="https://gitter.im/opal/opal?at=5c02cd4b9f38cc0fd58c3b7f">from Gitter, on Dec 1 2018</a></em>
  </div class="praise-item">
</div>

<h2 id="overview">Overview</h2>

<p class="run-code"><a href="/try" class="btn btn-default btn-code">Try this code <i style="vertical-align: middle" class="ion-ios-play"></i></a></p>
<div class="highlight"><pre class="highlight ruby"><code><span class="k">class</span> <span class="nc">User</span>
  <span class="nb">attr_accessor</span> <span class="ss">:name</span>

  <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="nb">name</span><span class="p">)</span>
    <span class="vi">@name</span> <span class="o">=</span> <span class="nb">name</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">admin?</span>
    <span class="vi">@name</span> <span class="o">==</span> <span class="s1">'Admin'</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="n">user</span> <span class="o">=</span> <span class="no">User</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s1">'Bob'</span><span class="p">)</span>

<span class="c1"># the output will go to your browser's console</span>
<span class="nb">puts</span> <span class="n">user</span>
<span class="nb">puts</span> <span class="n">user</span><span class="p">.</span><span class="nf">admin?</span>
</code></pre></div>
<hr>

<p><span id="getting-started"></p>

<h2 id="getting-started-rack">Getting Started: Rack</h2>

<p>Add <code>opal</code>, <code>rack</code> and <code>rackup</code> to your <code>Gemfile</code>.</p>
<div class="highlight"><pre class="highlight shell"><code>bundle add opal rack rackup
</code></pre></div>
<p>Setup the Opal rack-app in your <code>config.ru</code> as follows:</p>
<div class="highlight"><pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'opal'</span>

<span class="n">run</span><span class="p">(</span><span class="no">Opal</span><span class="o">::</span><span class="no">SimpleServer</span><span class="p">.</span><span class="nf">new</span> <span class="k">do</span> <span class="o">|</span><span class="n">s</span><span class="o">|</span>
  <span class="c1"># the name of the ruby file to load. To use more files they must be required from here (see app)</span>
  <span class="n">s</span><span class="p">.</span><span class="nf">main</span> <span class="o">=</span> <span class="s1">'application'</span>

  <span class="c1"># the directory where the code is (add to opal load path )</span>
  <span class="n">s</span><span class="p">.</span><span class="nf">append_path</span> <span class="s1">'app'</span>
<span class="k">end</span><span class="p">)</span>
</code></pre></div>
<p>Add a file named <code>application.js.rb</code> to <code>app/</code> with your hello world:</p>
<div class="highlight"><pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'opal'</span>
<span class="nb">require</span> <span class="s1">'native'</span>
<span class="vg">$$</span><span class="p">.</span><span class="nf">alert</span> <span class="s1">'Hello World from Opal!'</span>
</code></pre></div>
<p>Then start the server with <code>bundle exec rackup</code> and visit <a href="http://localhost:9292">http://localhost:9292</a>.</p>

<p><br>
<br>
<a href="https://github.com/opal/opal-sprockets#readme" class="btn btn-primary btn-lg" role="button"><i class="ion-ios-book-outline"></i> Learn more about Opal Sprockets</a>
<br>
<br></p>

<hr>

<h2 id="getting-started-rails">Getting Started: Rails</h2>

<p>Add <code>opal-rails</code> to your Rails app&#39;s <code>Gemfile</code>:</p>
<div class="highlight"><pre class="highlight shell"><code>bundle add opal-rails
</code></pre></div>
<p>Rename <code>app/assets/javascripts/application.js</code> to <code>app/assets/javascripts/application.js.rb</code> and replace its contents with this code:</p>
<div class="highlight"><pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'opal'</span>
<span class="nb">require</span> <span class="s1">'opal_ujs'</span>
<span class="nb">require</span> <span class="s1">'turbolinks'</span>
<span class="n">require_tree</span> <span class="s1">'.'</span>
</code></pre></div>
<p>Create a &quot;Hello World&quot; controller:</p>
<div class="highlight"><pre class="highlight ruby"><code><span class="n">bin</span><span class="o">/</span><span class="n">rails</span> <span class="n">generate</span> <span class="n">controller</span> <span class="no">HelloWorld</span> <span class="n">index</span>
</code></pre></div>
<p>Replace the contents of <code>app/assets/javascripts/hello_world.js.rb</code> with:</p>
<div class="highlight"><pre class="highlight ruby"><code><span class="no">Document</span><span class="p">.</span><span class="nf">ready?</span> <span class="k">do</span>
  <span class="no">Element</span><span class="p">.</span><span class="nf">find</span><span class="p">(</span><span class="s1">'body'</span><span class="p">).</span><span class="nf">html</span> <span class="o">=</span> <span class="s1">'&lt;h1&gt;Hello World from Opal!&lt;/h1&gt;'</span>
<span class="k">end</span>
</code></pre></div>
<p>Start the server with <code>bin/rails server</code> and visit: <a href="http://localhost:3000/hello_world/index">http://localhost:3000/hello_world/index</a>.</p>

<p><br>
<br>
<a href="https://github.com/opal/opal-rails#readme" class="btn btn-primary btn-lg" role="button"><i class="ion-ios-book-outline"></i> Learn more about Opal Rails</a>
<br>
<br></p>

<hr>

<h2 id="getting-started-command-line-interface-cli">Getting Started: Command Line Interface (CLI)</h2>

<p>Install <code>opal</code> from Rubygems:</p>
<div class="highlight"><pre class="highlight shell"><code>gem <span class="nb">install </span>opal
</code></pre></div>
<p>Write this code to <code>hello_world.js.rb</code>:</p>
<div class="highlight"><pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'ostruct'</span>
<span class="n">greeting</span> <span class="o">=</span> <span class="no">OpenStruct</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="ss">type: :Hello</span><span class="p">,</span> <span class="ss">target: :World</span><span class="p">,</span> <span class="ss">source: :Opal</span><span class="p">)</span>
<span class="nb">puts</span> <span class="s2">"</span><span class="si">#{</span><span class="n">greeting</span><span class="p">.</span><span class="nf">type</span><span class="si">}</span><span class="s2"> </span><span class="si">#{</span><span class="n">greeting</span><span class="p">.</span><span class="nf">target</span><span class="si">}</span><span class="s2"> from </span><span class="si">#{</span><span class="n">greeting</span><span class="p">.</span><span class="nf">source</span><span class="si">}</span><span class="s2">!"</span>
</code></pre></div>
<p>Run it with Node.js (assuming it&#39;s installed):</p>
<div class="highlight"><pre class="highlight shell"><code>opal hello_world.js.rb
<span class="c"># =&gt; Hello World from Opal!</span>
</code></pre></div>
<p>Compile it to a JavaScript file:</p>
<div class="highlight"><pre class="highlight shell"><code>opal <span class="nt">-c</span> hello_world.js.rb <span class="o">&gt;</span> hello_world.js
node hello_world.js
<span class="c"># =&gt; Hello World from Opal!</span>
</code></pre></div>
<p>For a full list of supported options see:</p>
<div class="highlight"><pre class="highlight shell"><code>opal <span class="nt">--help</span>
</code></pre></div>
<p><br>
<br>
<a href="https://github.com/opal/opal#usage" class="btn btn-primary btn-lg" role="button"><i class="ion-ios-book-outline"></i> Learn more about the CLI</a>
<br>
<br></p>

<hr>

<h2 id="resources">Resources</h2>

<div class="page-header">
  <p>
    Opal is <a href="http://github.com/opal/opal#readme">hosted on GitHub <i class="ion-social-github"></i></a>.
  </p>

  <p>
    You can join the community by chatting <i class="ion-chatbubbles"></i> on <a href="https://slack.opalrb.com"><b>Slack</b></a>.
  </p>

  <p>
    Ask questions on <i>stack</i><b>overflow</b> by using the <a href="http://stackoverflow.com/questions/ask?tags=opalrb">#opalrb</a> tag.
  </p>

  <p>
    Discuss on the <a href="https://groups.google.com/forum/#!forum/opalrb">mailing list <i class="ion-email"></i></a>
    or on <i class="ion-social-twitter"></i> <b>Twitter</b> <a href="http://twitter.com/opalrb">@opalrb</a>.
  </p>
</div>

  </div>

  <footer>
  <a href="/license"><i class="ion-unlocked"></i> License</a> Â·
  <a href="https://github.com/opal/opal/graphs/contributors"><i class="ion-fork-repo"></i> Contributors</a>
</footer>


  <script>
    document.querySelector(`a[href="${location.pathname.replace(/\/$/,'')}"]`)?.parentElement.classList.add("active")
  </script>

  <!-- Algolia -->
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
  <script type="text/javascript">
    docsearch({
      apiKey: 'cf08db1eca77cb92ca34e24a86430bcb',
      indexName: 'opalrb',
      inputSelector: '#search-form input[type="search"]',
      debug: false // Set debug to true if you want to inspect the dropdown
    });
  </script>
</body>
</html>
